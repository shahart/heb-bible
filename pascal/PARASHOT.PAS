{$A+,B-,D-,G+,I+,O-,P-,Q-,R-,S-,T-,V+,X+}
{$m 1024,0,0}
uses crt,dos;
const
  which:array [1..4] of string[14]=('(������) �����','(�����) �����','�����','����');
  posi:array [1..54,1..5] of byte=((1,1,1,6,5),(1,6,9,11,29),(1,12,1,17,24),(1,18,1,22,20),(1,23,1,25,16),(1,25,19,28,7),
    (1,28,10,32,1),(1,32,4,36,40),(1,37,1,40,20),(1,41,1,44,14),(1,44,18,47,25),(1,47,28,50,23),(2,1,1,5,22),(2,6,2,9,33),
    (2,10,1,13,14),(2,13,17,17,14),(2,18,1,20,19),(2,21,1,24,16),(2,25,1,27,17),(2,27,20,30,8),(2,30,11,34,33),(2,35,1,38,18),
    (2,38,21,40,34),(3,1,1,5,24),(3,6,1,8,33),(3,9,1,11,45),(3,12,1,13,57),(3,14,1,15,31),(3,16,1,18,28),(3,19,1,20,25),
    (3,21,1,24,21),(3,25,1,25,55),(3,26,3,27,32),(4,1,1,4,18),(4,4,21,7,87),(4,8,1,12,14),(4,13,1,15,38),(4,16,1,18,30),
    (4,19,1,21,34),(4,22,2,25,7),(4,25,10,29,35),(4,30,2,32,40),(4,33,1,36,11),(5,1,1,3,20),(5,3,23,7,9),(5,7,12,11,22),
    (5,11,26,16,13),(5,16,18,21,7),(5,21,10,25,18),(5,26,1,28,6),(5,29,9,30,15),(5,31,1,31,28),(5,32,1,32,49),(5,33,1,33,27));
  p:array [1..54,1..3] of byte=((43,73,36),(43,85,32),(43,71,58),(42,35,32),(41,32,32),(57,32,32),(46,43,44),
    (49,32,32),(48,33,37),(41,34,46),(45,68,46),(41,33,32),(43,58,37),(45,59,56),(44,77,44),(38,35,35),(43,37,32),(44,65,39),
    (41,36,57),(45,74,41),(41,49,32),(41,38,71),(41,38,82),(43,74,52),(44,38,52),(40,37,32),(42,35,73),(42,38,34),(45,53,32),
    (48,40,38),(45,75,46),(44,63,37),(44,47,50),(46,33,32),(38,44,33),(56,33,45),(37,33,32),(39,42,45),(38,42,32),(51,36,37),
    (41,49,77),(44,32,32),(44,33,35),(43,32,32),(43,71,32),(43,80,45),(43,85,42),(43,82,43),(43,85,32),(43,91,32),(43,92,41),
    (46,45,33),(40,53,32),(37,32,32));
var
  y,y2:byte;
  a,b,c,sefer,perek,pasuk:string[3];
  x:string[10];
  i:integer;
begin
  If LastMode<2 Then
    TextMode(Co80);
  textattr:=lightgreen;
  CheckBreak:=False;
  textattr:=yellow;
  writeln('** נ"ד פרשות התורה **':53,^j);
  textattr:=lightblue;
  writeln('������������������������������������������������������������������͸':74);
  writeln('�      ����� 44 �  ����� 34 �    ����� 24 �   ���� 13 �  בראשית  1 �':74);
  writeln('�     ������ 45 �    ��� 35 �       �� 25 �   ���� 14 �      נח  2 �':74);
  writeln('�        ��� 46 � ������ 36 �    ����� 26 �     �� 15 �   �� ��  3 �':74);
  writeln('�        ��� 47 � �� ��� 37 �    ����� 27 �   ���� 16 �    ����  4 �':74);
  writeln('�      ����� 48 �    ��� 38 �     ���� 28 �   ���� 17 � ��� ���  5 �':74);
  writeln('�     ��� �� 49 �    ��� 39 � ��� ���� 29 � ������ 18 �  ������  6 �':74);
  writeln('�    ���� �� 50 �    ��� 40 �    ����� 30 �  ����� 19 �    ����  7 �':74);
  writeln('�      ����� 51 �  ����� 41 �      ��� 31 �   ���� 20 �   �����  8 �':74);
  writeln('�       ���� 52 �   ���� 42 � ���� ��� 32 � ��� �� 21 �    ����  9 �':74);
  writeln('�     ������ 53 �   ���� 43 �    ����� 33 �  ����� 22 �     ��� 10 �':74);
  writeln('� הברכה וזאת 54 �           �             �  ����� 23 �    ���� 11 �':74);
  writeln('�               �           �             �           �    ���� 12 �':74);
  writeln('������������������������������������������������������������������;':74,^j);
  textattr:=lightred;
  writeln('** (ספרדים) הפטרה .4 ,(אשכנז) הפטרה .3 ,מפטיר .2 ,פרשה .1 :מהי בחירתך **':76,^j^j);
  repeat
    y:=ord(readkey)-48;
  until y in [1..4];
  textattr:=lightmagenta;
  repeat
    gotoxy(1,wherey-1);
    write(which[5-y],'� ''�� -> ');
    clreol;
    readln(x);
    val(x,y2,i);
    if i>1 then
      val(copy(x,1,i-1),y2,i);
  until y2 in [1..54];
  str(p[y2,1]-31,sefer);
  str(p[y2,2]-31,perek);
  str(p[y2,3]-31,pasuk);
  a:='*';
  if y<3 then begin
    str(posi[y2,1],sefer);
    str(posi[y2,2*y],perek);
    str(posi[y2,1+2*y],pasuk);
    str(y2+1,a);
    if y2<54 then begin
      str(posi[y2+1,2],b);
      str(posi[y2+1,3],c);
    end;
  end;
  if y=4 then
    if y2=7 then begin
      perek:='11';
      pasuk:='7';
    end else if y2=13 then begin
      sefer:='13';
      perek:='1';
      pasuk:='1';
    end else if y2=15 then
      perek:='36'
    else if y2=16 then begin
      perek:='5';
      pasuk:='1';
    end else if y2=21 then
      pasuk:='20'
    else if y2=22 then
      pasuk:='13'
    else if y2=23 then
      pasuk:='40'
    else if y2=30 then begin
      sefer:='14';
      perek:='20';
      pasuk:='2';
    end;
  swapvectors;
  if y<3 then
    exec('Read.exe',sefer+' '+perek+' '+pasuk+' � '+a+' '+b+' '+c)
  else
    exec('Read.exe',sefer+' '+perek+' '+pasuk);
  swapVectors;
  textattr:=cyan;
  if dosError<>0 then
    writeln(^j'� Read.Exe ������ ����'#7);
end.